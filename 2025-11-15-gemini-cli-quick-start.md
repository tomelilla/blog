# Gemini Cli 入門教學

手把手帶你學習如何用 Gemini Cli 協助開發，不論是規劃，還是實作，都很好用

## 安裝

在安裝 Gemini CLI 之前，請確保您的系統已安裝 Node.js 和 npm (Node Package Manager)。建議使用 Node.js LTS 版本 (例如 v20.x 或更高版本)，並確保 npm 版本與之相容。

可以透過 npm 全域安裝 Gemini CLI：

```bash
npm install -g @google/gemini-cli
```

更多安裝方式請參考 [官方 GitHub 頁面](https://github.com/google-gemini/gemini-cli)。

## 登入

打開終端機，輸入`gemini`，系統將引導您完成登入流程。您需要使用一個 Gmail 帳號進行驗證。成功驗證後，即可回到終端畫面開始使用 Gemini CLI。

## 核心概念：個人化設定 (GEMINI.md)

建立屬於你的個人化文件 `GEMINI.md` 放至 `~/.gemini/` (即使用者家目錄下的 `.gemini` 資料夾)。這份文件是 Gemini CLI 理解您的工作習慣、技術棧和協作偏好的關鍵。透過 `GEMINI.md`，您可以定義自己的專業技能、專案協作要求等，讓 Gemini 在提供協助時能更貼合您的個人化需求，例如在生成程式碼、提供建議或分析文件時，都能參考您的設定。之後你的操作都會讀取此內容設定。

```md
我的主要開發技能是 JavaScript (涵蓋 Node.js、Next.js、Vue、Quasar 框架)，並熟悉 MySQL 資料庫。我也會使用 PHP 和 CakePHP。 在專案中遇到需確認事項時，請建立待修改內容文件，如有可供參考的方式也提供給我作確認。待我確認後，再重新執行並仔細核對結果。
```

拿去請 gemini chat 進行優化後的結果

> 這是一個為您的 `GEMINI.md` 檔案優化後的版本，更精簡、流暢且專業：
>
> ### **優化版本 (Markdown 格式推薦)**
>
> ```markdown
> ## 專業技能與協作流程
>
> ### 💻 技術棧概覽
> * **前端/後端框架：** JavaScript (Node.js, Next.js, Vue, Quasar)
> * **資料庫：** 熟悉 MySQL
> * **輔助技能：** PHP, CakePHP
>
> ### 🤝 專案協作要求
> 在專案執行中，若遇需確認事項：
> 1.  請先建立**待修改內容文件**，並提供**參考方案/優化建議**。
> 2.  待我確認後，再**重新執行**並**仔細核對**最終結果。
>  ```
>
> -----
>
> 如果您希望是純文字段落格式：
>
> ### **優化版本 (段落格式)**
>
> 「我具備 JavaScript（涵蓋 Node.js、Next.js、Vue、Quasar 框架）開發能力，熟悉 MySQL 資料庫，並掌握 PHP 和 CakePHP。專案中遇到需確認事項時，請先建立待修改內容文件並提供可參考方案。待我確認後，再行執行並仔細核對結果。」

**修改完成後，請務必重啟 `gemini` 或執行 `/memory refresh` 指令，以載入最新的 `GEMINI.md` 設定。**  

## 如何使用 Gemini CLI

Gemini CLI 旨在協助您進行開發工作。以下將介紹其基本使用方式，以及如何透過有效的提示來發揮其最大效用。

### 基本使用方式

以下是一個簡單的範例，展示如何向 Gemini 提問：

```bash
gemini "請幫我解釋這段 JavaScript 程式碼的功能： function add(a, b) { return a + b; }"
```

Gemini 會根據您的 `GEMINI.md` 設定和提供的上下文，給出相應的回答。

### 撰寫有效提示的技巧

要讓 Gemini CLI 發揮最大效用，撰寫清晰、具體的提示至關重要。以下是一些建議：

1. **明確目標**：清楚說明您希望 Gemini 完成什麼任務（例如：解釋、生成、分析、重構）。
2. **提供足夠的上下文**：如果任務涉及特定文件，請務必使用 `@檔案名稱` 的方式引用，並指出相關的章節或內容。
3. **具體化要求**：避免模糊的詞語。例如，不要說「優化程式碼」，而是說「請根據效能最佳化原則，重構這段程式碼以減少記憶體使用」。
4. **指定輸出格式**：如果您希望輸出是特定格式（例如：Markdown 表格、JSON、程式碼片段），請在提示中明確說明。
5. **分步驟說明**：對於複雜的任務，可以將其分解為幾個小步驟，並在提示中依序說明。
6. **提供範例**：如果可能，提供一個您期望的輸出範例，這能幫助 Gemini 更好地理解您的意圖。
7. **迭代與精煉**：如果第一次的結果不盡理想，請不要氣餒。嘗試修改提示，使其更精確，並逐步精煉您的要求。

遵循這些技巧，您將能更有效地利用 Gemini CLI 提升開發效率。

### 進階範例：根據多份文件生成規格文件

您也可以要求 Gemini 根據多份文件內容，生成更複雜的輸出。例如，結合 JIRA 需求文件 (`COMPANY_JIRA_DOC.md`) 和資料庫規格文件 (`EXAMPLE_SPEC.md`) 來生成一份 API 規格文件草稿：

```bash
gemini "根據 @COMPANY_JIRA_DOC.md 中關於 '公司管理－公司列表 查詢/篩選' 的功能需求，以及 @EXAMPLE_SPEC.md 中 '公司 (Company)' 的欄位定義，生成一份 API 規格文件草稿。文件應包含 API 端點、請求方法、請求參數（包含驗證規則）、回應格式，並說明如何處理 '使用單位卡號' 的特殊查詢邏輯。"
```

這個指令會引導 Gemini 參考兩份不同的文件，並綜合其中的資訊來生成一份符合您需求的 API 規格文件草稿。

## Gemini CLI 的能力與應用

Gemini CLI 能夠理解、處理並協助您完成多樣化的開發任務。

### Gemini CLI 如何理解您的文件

Gemini CLI 具備強大的文件理解能力，能深入分析您專案中的各類文件，無論是程式碼、規格書還是其他文本資料。它能識別文件內容，並深入理解其結構與語義，例如：

* **結構化資料解析**：對於 Markdown 表格等結構化內容，Gemini CLI 能精確提取欄位定義、屬性與關聯性。
* **上下文感知**：結合您提供的提示與專案文件內容，Gemini CLI 能建立全面的上下文理解，從而提供更精準的協助。

**範例：理解資料庫欄位與功能定義**

以「公司 (Company)」的欄位與功能定義為例，Gemini CLI 能解析出每個欄位的名稱、資料類型、是否必填、驗證規則、備註等資訊，以及相關的功能操作與規則。因此，當您針對這些欄位或功能提問時，Gemini CLI 能基於這些結構化資訊提供精確的回答或建議。

```markdown
### 欄位

| 欄位    | DB 欄位名稱        | 是否必填 | 驗證條件              | 備註                  |
| ----- | ------------------ | ---- | ----------------- | ------------------- |
| uid   | uid                | 必填  |                   | unique 系統產生          |
| 公司名稱  | company_name    | 必填  | 字數 ≤ 50          | 允許中英文               |
| 系統代碼  | system_code     |      | 字數 ≤ 10          | 系統產生，按年(YY)月(MM)+4碼流水號 (全域累加，不隨月份重置) |
| 統一編號  | tax_id          |      | 8 碼數字           | 不允許重複，可以為空值，若為空值則不檢查唯一性 |
| 公司負責人 | contact_person | 必填  | 字數 ≤ 50          | 中英文皆可               |
| 公司地址  | address         | 必填  | \-                | 縣市、鄉鎮下拉＋文字輸入        |
| 建立時間 | created_at       |      | \-                | 系統維護 |
| 修改時間 | updated_at       |      | \-                | 系統維護 |
| 刪除時間 | deleted_at       |      | \-                | 執行刪除時更新 |

### 功能

- **新增**
  - **規則**: 輸入公司名稱、統一編號、公司負責人、公司地址
- **修改**
  - **規則**: 帶出資料，欄位同新增規則
- **列表(分頁)**
  - **查詢條件**: 頁面輸入關鍵字，對「公司名稱、統一編號、公司負責人」模糊搜尋。
  - **列表欄位**: 公司名稱、統一編號、公司負責人、操作按鈕（編輯、刪除）。
- **檢視** (顯示全部欄位)
- **刪除** 採用軟刪除 (Soft Delete)，更新 `deleted_at` 欄位。
```

### Gemini CLI 不僅限於文件生成，它還能協助您處理多種開發任務

* **程式碼解釋與分析**：快速理解複雜的程式碼邏輯、函式功能或模組架構。
* **程式碼重構建議**：針對現有程式碼提供優化、改進可讀性或提升效能的建議。
* **錯誤分析與除錯**：協助分析錯誤訊息、堆疊追蹤，並提供潛在的解決方案。
* **測試案例生成**：根據程式碼功能或需求文件，自動生成單元測試或整合測試案例。
* **文件撰寫與更新**：基於程式碼或現有文件，自動生成或更新技術文件、API 文件等。
* **設計與規劃**：在專案初期，協助進行系統設計、架構規劃或功能模組拆分。
* **學習新技術**：快速學習新的程式語言、框架或函式庫，並提供範例程式碼。

透過這些情境，Gemini CLI 能成為您日常開發工作中不可或缺的智慧助手。

## 重要資訊

在使用 Gemini CLI 前，請務必了解以下重要資訊：

### Gemini 模型資訊與使用限制

### 免費額度限制

Gemini 的免費額度旨在提供開發者和小型專案進行測試和原型開發。主要限制包括：

* **速率限制**：通常為每分鐘 5 個請求 (RPM)，每天 25 個請求 (RPD)（針對 Gemini 2.5 Pro 模型）。超出這些限制將導致錯誤。
* **上下文視窗**：即使在免費額度下，Gemini 2.5 Pro 等模型通常也支援完整的 100 萬 token 上下文視窗。
* **商業用途**：允許商業使用，但嚴格的速率限制使其不適用於生產環境。
* **存取方式**：免費額度通常透過 Google AI Studio 提供。

### Gemini 2.5 Pro vs. Flash vs. Flash-Lite 差異

Google 的 Gemini 2.5 系列模型（Pro、Flash、Flash-Lite）在速度、成本和性能之間取得平衡，以適應不同的使用場景。所有 2.5 模型都支援 100 萬 token 的上下文視窗和多模態輸入。

以下是它們之間的差異：

* **Gemini 2.5 Pro**：
  * **描述**：Gemini 系列中最強大、最先進的推理模型，擅長複雜的推理任務、深度分析和程式碼編寫。
  * **使用場景**：適用於需要高精確度、複雜演算法和細緻解釋的任務，例如編寫複雜演算法或分析大型資料集。
  * **性能**：優先考慮準確性而非速度，因此速度較慢但更精確。「思考控制」（多步驟邏輯、推理）始終啟用且無法關閉。
  * **成本**：三者中成本最高。

* **Gemini 2.5 Flash** `推薦預設`</span>：
  * **描述**：在速度、品質和成本之間取得平衡，在各種任務中提供全面的能力和良好的性能。
  * **使用場景**：適用於需要速度和品質良好結合的面向用戶應用和業務工作流程，例如聊天機器人或行動整合。「思考控制」可以關閉以優先考慮速度和效率。
  * **性能**：與 Pro 相比，提供更低的「首個 token 時間」(TTFT)，適合即時互動。
  * **成本**：比 Pro 便宜得多，適用於成本敏感的專案。

* **Gemini 2.5 Flash-Lite**：
  * **描述**：2.5 系列中最新、最具成本效益的模型，專為高吞吐量任務設計。它是 2.5 系列中最快的模型。
  * **使用場景**：最適合不需要複雜推理或長上下文的低延遲、成本敏感任務，例如分類或翻譯。
  * **性能**：提供無與倫比的成本效益和速度，延遲低於 2.0 Flash-Lite 和 2.0 Flash。其「思考模式」預設為關閉，以優化速度和成本。
  * **成本**：最經濟實惠的選項。

**啟動時指定model**

```bash
gemini --model gemini-2.5-flash
```

# 常見問題 (FAQ)

## 大部份的 CLI 工具都遵循類似的模式嗎？

的，大部份的命令列介面 (CLI) 工具在基本互動模式上是相似的。它們通常接受命令、參數和選項來執行特定任務。例如，您會看到許多 CLI 工具都使用 `command [arguments] [options]` 這樣的結構。

然而，像 Gemini CLI 這樣由 AI 驅動的工具，在功能上則有顯著的擴展。傳統 CLI 工具主要執行預定義的腳本或操作，而 Gemini CLI 則能理解自然語言指令，並利用其對專案文件的上下文感知能力（例如透過 `@檔案名稱` 引用文件內容）來執行更複雜、更智慧的任務，例如生成程式碼、分析文件或提供建議。這種上下文感知和智慧處理能力是傳統 CLI 工具所不具備的。

## 關於此 README.md

### Gemini CLI 如何優化此 README.md

此 `README.md` 文件本身就是 Gemini CLI 協作優化的成果。以下是 Gemini CLI 針對此文件所進行的優化與內容補充摘要：

### **修改前 `README.md` 的主要內容概覽：**

> * **標題與簡介**：簡單介紹 Gemini CLI 的用途。
> * **安裝**：
>   * 提到需要 Gmail 帳號登入。
>   * 提供 GitHub 連結並說明選擇安裝方式。
>   * 提供 `npm install -g @google/gemini-cli` 指令。
> * **登入**：
>   * 說明輸入 `gemini` 進行登入。
>   * 包含三張圖片展示登入流程（登入畫面、成功畫面、主畫面）。
> * **建立個人化GEMINI.md**：
>   * 說明將 `GEMINI.md` 放置於 `~/.gemini/`。
>   * 提供一個 `GEMINI.md` 的範例內容。
>   * 包含 Gemini Chat 優化後的 `GEMINI.md` 範例。
>   * 提示修改後需重啟 `gemini`。

### **經過優化後 `README.md` 的主要內容概覽：**

我對 `README.md` 進行了以下優化和內容補充：

> 1. **安裝說明優化**：
>     * **修改前**：提到需要 Gmail 帳號登入，並籠統地說「選擇你喜歡的安裝方式」。
>     * **修改後**：
>         * 明確指出安裝前需具備 Node.js 和 npm 環境。
>         * 直接提供 `npm install -g @google/gemini-cli` 指令。
>         * 新增了「更多安裝方式請參考 [官方 GitHub 頁面](https://github.com/google-gemini/gemini-cli)」的連結。
>         * 將 Gmail 帳號的需求移至「登入」章節，因為它與使用而非安裝相關。
>
> 2. **登入內容簡化**：
>     * **修改前**：包含三張圖片來展示登入流程。
>     * **修改後**：將三張圖片替換為一段簡潔的文字描述，說明輸入 `gemini` 後系統會引導完成 Gmail 帳號驗證。
>
> 3. **`GEMINI.md` 章節擴充**：
>     * **修改前**：僅說明 `GEMINI.md` 放置位置及會讀取其設定。
>     * **修改後**：
>         * 更明確地解釋 `~/.gemini/` 即為使用者家目錄下的 `.gemini` 資料夾。
>         * 詳細說明 `GEMINI.md` 的重要性，解釋它如何幫助 Gemini CLI 理解您的工作習慣、技術棧和協作偏好，從而提供更個人化的協助。
>         * 將「修改後需重啟 `gemini`」的提示語加粗並強調。
>
> 4. **新增「使用方式」章節**：
>     * **新增內容**：
>         * 一個簡單的 Gemini CLI 互動範例 (`gemini "請幫我解釋這段 JavaScript 程式碼的功能..."`)。
>         * 一個「進階範例：根據多份文件生成規格文件」，展示如何同時引用 `@COMPANY_JIRA_DOC.md` 和 `@EXAMPLE_SPEC.md` 來生成複雜的 API 規格文件草稿。
>
> 5. **新增「Gemini CLI 如何理解您的文件」章節**：
>     * **新增內容**：解釋 Gemini CLI 能夠理解並處理多種格式的文件內容，特別是結構化資料（如 Markdown 表格）。
>     * 提供 `EXAMPLE_SPEC.md` 中「公司 (Company)」欄位定義的 Markdown 表格作為範例，具體展示 Gemini CLI 如何處理這類資訊。
>
> 6. **新增「常見使用情境」章節**：
>     * **新增內容**：列舉了多種 Gemini CLI 在開發工作中的實際應用場景，包括程式碼解釋、重構建議、錯誤分析、測試案例生成、文件撰寫與更新、設計與規劃、學習新技術等。
>
> 7. **新增「撰寫有效提示的技巧」章節**：
>     * **新增內容**：提供 7 條撰寫清晰、具體提示的建議，幫助使用者更有效地利用 Gemini CLI，例如明確目標、提供上下文、具體化要求、指定輸出格式等。
>
> 8. **新增「Gemini 模型資訊與使用限制」章節**：
>     * **新增內容**：
>         * **免費額度限制**：說明了速率限制、上下文視窗、商業用途和存取方式等免費額度的主要限制。
>         * **Gemini 2.5 Pro vs. Flash vs. Flash-Lite 差異**：詳細比較了這三種模型在描述、使用場景、性能和成本方面的不同，幫助使用者選擇適合的模型。
>
> 9. **新增「常見問題 (FAQ)」章節**：
>     * **新增內容**：回答了「大部份的 CLI 工具都遵循類似的模式嗎？」這個問題，解釋了傳統 CLI 和 AI 驅動 CLI（如 Gemini CLI）在基本互動模式相似但功能擴展上的差異，特別強調了 Gemini CLI 的上下文感知和智慧處理能力。

這些修改旨在讓 `README.md` 成為一份更全面、更具指導性且更易於理解的 Gemini CLI 入門文件。

### 初始建立與優化 (Initial Creation and Optimization)

Gemini CLI 根據原始的 `README.md` 內容進行了全面的優化和擴充，旨在使其成為一份更全面、更具指導性且更易於理解的 Gemini CLI 入門文件。

#### 主要優化內容包括

* **安裝說明優化**：明確指出安裝前需具備 Node.js 和 npm 環境，並直接提供 `npm install -g @google/gemini-cli` 指令。新增了官方 GitHub 頁面連結，並將 Gmail 帳號的需求移至「登入」章節。
* **登入內容簡化**：將原有的三張圖片替換為簡潔的文字描述，說明輸入 `gemini` 後系統會引導完成 Gmail 帳號驗證。
* **`GEMINI.md` 章節擴充**：更明確地解釋 `~/.gemini/` 的路徑，並詳細說明 `GEMINI.md` 的重要性，解釋它如何幫助 Gemini CLI 理解使用者的工作習慣、技術棧和協作偏好，從而提供更個人化的協助。同時強調了修改後需重啟 `gemini` 的提示。
* **新增「使用方式」章節**：包含一個簡單的 Gemini CLI 互動範例，以及一個進階範例，展示如何同時引用多份文件（如 `COMPANY_JIRA_DOC.md` 和 `EXAMPLE_SPEC.md`）來生成複雜的 API 規格文件草稿。
* **新增「Gemini CLI 如何理解您的文件」章節**：解釋 Gemini CLI 能夠理解並處理多種格式的文件內容，特別是結構化資料（如 Markdown 表格），並提供 `EXAMPLE_SPEC.md` 中「公司 (Company)」欄位定義的 Markdown 表格作為範例。
* **新增「常見使用情境」章節**：列舉了多種 Gemini CLI 在開發工作中的實際應用場景，包括程式碼解釋、重構建議、錯誤分析、測試案例生成、文件撰寫與更新、設計與規劃、學習新技術等。
* **新增「撰寫有效提示的技巧」章節**：提供 7 條撰寫清晰、具體提示的建議，幫助使用者更有效地利用 Gemini CLI。
* **新增「Gemini 模型資訊與使用限制」章節**：詳細說明了免費額度限制以及 Gemini 2.5 Pro, Flash, Flash-Lite 三種模型在描述、使用場景、性能和成本方面的差異。
* **新增「常見問題 (FAQ)」章節**：回答了「大部份的 CLI 工具都遵循類似的模式嗎？」這個問題，解釋了傳統 CLI 和 AI 驅動 CLI 在功能擴展上的差異。
